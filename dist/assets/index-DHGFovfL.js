const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Accueil-CS-XJv7p.js","./vendor-WYr585uA.js","./supabase-B76hXWPk.js","./Hub-vcXUfrIx.js","./TaleLanding-DD333zlr.js","./Liseuse-GzwETEqc.js","./CreerTale-3pFC7CVo.js","./Legal-Df2UoVip.js"])))=>i.map(i=>d[i]);
import{r as se,b as ne,a as oe,L as y,c as o,u as U,d as re,N as S,O as ae,R as ie,e as v,f as le,H as ce}from"./vendor-WYr585uA.js";import{c as ue}from"./supabase-B76hXWPk.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();var R={exports:{}},L={};var D;function de(){if(D)return L;D=1;var t=se(),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,f){var d,p={},m=null,h=null;f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(h=u.ref);for(d in u)a.call(u,d)&&!r.hasOwnProperty(d)&&(p[d]=u[d]);if(c&&c.defaultProps)for(d in u=c.defaultProps,u)p[d]===void 0&&(p[d]=u[d]);return{$$typeof:s,type:c,key:m,ref:h,props:p,_owner:n.current}}return L.Fragment=i,L.jsx=l,L.jsxs=l,L}var F;function he(){return F||(F=1,R.exports=de()),R.exports}var e=he(),E={},B;function pe(){if(B)return E;B=1;var t=ne();return E.createRoot=t.createRoot,E.hydrateRoot=t.hydrateRoot,E}var me=pe();const fe=oe(me),xe="modulepreload",ge=function(t,s){return new URL(t,s).href},W={},w=function(s,i,a){let n=Promise.resolve();if(i&&i.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");n=f(i.map(d=>{if(d=ge(d,a),d in W)return;W[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(a)for(let g=l.length-1;g>=0;g--){const b=l[g];if(b.href===d&&(!p||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${m}`))return;const h=document.createElement("link");if(h.rel=p?"stylesheet":xe,p||(h.as="script"),h.crossOrigin="",h.href=d,u&&h.setAttribute("nonce",u),document.head.appendChild(h),p)return new Promise((g,b)=>{h.addEventListener("load",g),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&r(c.reason);return s().catch(r)})},M="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='681.65094'%20height='707.11969'%20viewBox='0%200%20180.35348%20187.09209'%20version='1.1'%20id='svg1'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3cg%20id='logo-shape'%3e%3cpath%20style='fill:%23fefff4;fill-opacity:1;stroke:none;stroke-width:0.264583;stroke-dasharray:none;stroke-opacity:1'%20d='m%2083.573857,134.23275%20c%20-3.462988,-3.04442%20-16.569786,-10.76401%20-23.608409,-13.90479%20-10.86552,-4.84841%20-26.244487,-8.96855%20-33.492401,-8.97287%20l%20-2.525697,-0.002%20V%2077.684752%2044.015918%20l%200.841899,-0.169566%20c%202.607752,-0.525232%203.908507,-0.552061%209.758934,-0.201268%207.034467,0.421785%2012.834078,1.143452%2016.442754,2.046023%208.059278,2.015722%2019.777674,7.057019%2021.305383,9.165651%201.167202,1.611032%201.410825,6.462379%201.413778,28.152892%20l%200.0028,20.86039%20h%202.750185%202.750187%20l%200.258512,-20.6733%20c%200.471942,-37.741197%200.974153,-62.319503%201.3468,-65.913216%200.484765,-4.674916%201.134467,-6.173334%203.692282,-8.5155208%204.065413,-3.7226947%209.062127,-6.2310604%2015.704246,-7.88357198%204.76041,-1.18435626%2011.97086,-1.17838991%2015.59274,0.0129011%208.89031,2.92416068%2010.2347,9.68549468%203.22733,16.23115868%20-5.1343,4.795999%20-11.71664,7.610674%20-19.999,8.551781%20-3.340794,0.379608%20-10.187401,-0.07056%20-11.463978,-0.753764%20-0.392647,-0.210137%20-0.869784,-0.382069%20-1.060302,-0.382069%20-0.209519,0%20-0.456287,21.210742%20-0.624475,53.675906%20-0.152943,29.521745%20-0.386988,54.508505%20-0.520097,55.526135%20l%20-0.242022,1.85023%20z'%20id='path29'%20/%3e%3cpath%20style='fill:%23fefff4;fill-opacity:1;stroke:none;stroke-width:0.264583;stroke-dasharray:none;stroke-opacity:1'%20d='m%20104.39548,148.93601%20c%200,-0.43752%204.04331,-4.46372%206.73519,-6.70669%2011.82388,-9.85207%2028.67509,-16.08031%2049.5785,-18.32429%203.08696,-0.33139%206.15989,-0.68877%206.82874,-0.79419%20l%201.21607,-0.19167%20V%2092.440673%2061.962175%20h%205.79975%205.79975%20v%2035.359759%2035.359756%20l%20-5.7062,0.002%20c%20-6.05469,0.002%20-12.51928,0.39675%20-21.98292,1.34367%20-17.76773,1.77782%20-35.31875,7.07267%20-45.93754,13.8586%20-1.99828,1.277%20-2.33134,1.42708%20-2.33134,1.05052%20z'%20id='path30'%20/%3e%3cpath%20style='fill:%23ffff80;fill-opacity:1;stroke-width:0.374176'%20d='m%2070.411659,186.91418%20c%20-6.959839,-0.68363%20-12.414171,-5.07339%20-12.414171,-9.99119%200,-6.59994%209.245595,-13.11002%2020.864478,-14.69127%204.138888,-0.56327%207.659765,-0.34668%2012.36902,0.76092%201.917518,0.45099%203.549216,0.75716%203.625999,0.68038%200.07678,-0.0768%200.260537,-21.4819%200.408352,-47.56693%20l%200.268753,-47.427348%201.156642,-1.526765%20c%202.943879,-3.885917%2013.005758,-11.19256%2020.348458,-14.776461%209.60681,-4.688985%2020.52172,-7.402859%2035.9058,-8.927587%20l%202.33861,-0.231783%20v%2033.851902%2033.851902%20l%20-1.02899,0.20973%20c%20-0.56594,0.11536%20-3.55468,0.63213%20-6.64165,1.14839%20-14.39328,2.4071%20-25.64611,6.20814%20-36.73107,12.4072%20-1.26943,0.70991%20-2.39624,1.14805%20-2.50404,0.97364%20-0.10778,-0.1744%20-0.3165,-8.34746%20-0.4638,-18.16235%20l%20-0.26784,-17.845262%20h%20-3.25179%20-3.2518%20l%20-0.26916,43.123942%20-0.26915,43.12394%20-0.934017,1.60304%20c%20-2.1336,3.6619%20-9.511779,7.92904%20-15.293301,8.84482%20-4.494192,0.71188%20-10.152452,0.94166%20-13.965333,0.56714%20z'%20id='path31'%20/%3e%3cpath%20style='fill:%23ffff80;fill-opacity:1;stroke-width:0.374176'%20d='m%2073.523622,147.78655%20c%20-8.93136,-5.53911%20-22.251089,-10.16438%20-35.9188,-12.47277%20-8.771625,-1.48148%20-12.987176,-1.84359%20-33.3953275,-2.86865%20L%200,132.23369%20V%2097.097932%2061.962175%20h%205.9868384%205.9868356%20v%2030.47337%20c%200,18.775475%200.136027,30.557435%200.354353,30.692375%200.194895,0.12045%202.951065,0.45725%206.124819,0.74844%206.304291,0.57843%2016.527489,2.51029%2022.711403,4.29176%208.07906,2.32741%2015.870282,5.85434%2022.322131,10.10476%204.216109,2.77754%2012.183587,9.78867%2011.687562,10.28469%20-0.08571,0.0857%20-0.828358,-0.26125%20-1.65032,-0.77102%20z'%20id='path32'%20/%3e%3c/g%3e%3c/svg%3e";function ve(){const t=new Date().getFullYear(),s=M;return e.jsxs("footer",{className:"app-footer",children:[e.jsxs("div",{className:"app-footer__content",children:[e.jsxs("div",{className:"app-footer__brand",children:[e.jsx("img",{src:s,alt:"Sound Tales",className:"app-footer__logo"}),e.jsxs("p",{className:"app-footer__tagline",children:["Lisez, écoutez, vivez l'histoire.",e.jsx("br",{}),"Le studio de lecture immersive."]})]}),e.jsxs("nav",{className:"app-footer__nav","aria-label":"Navigation pied de page",children:[e.jsxs("div",{className:"app-footer__col",children:[e.jsx("h4",{children:"Explorer"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(y,{to:"/",children:"Accueil"})}),e.jsx("li",{children:e.jsx(y,{to:"/hub",children:"Le Hub (Catalogue)"})})]})]}),e.jsxs("div",{className:"app-footer__col",children:[e.jsx("h4",{children:"Créateurs"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(y,{to:"/creer-tale",children:"Proposer un Tale"})}),e.jsx("li",{children:e.jsx(y,{to:"/creer-tale",children:"Rejoindre le studio"})})]})]}),e.jsxs("div",{className:"app-footer__col",children:[e.jsx("h4",{children:"Légal"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(y,{to:"/mentions-legales",children:"Mentions légales"})}),e.jsx("li",{children:e.jsx(y,{to:"/confidentialite",children:"Confidentialité"})}),e.jsx("li",{children:e.jsx(y,{to:"/cgu",children:"CGU"})})]})]})]})]}),e.jsx("div",{className:"app-footer__bottom",children:e.jsxs("p",{children:["© ",t," Sound Tales. Tous droits réservés."]})})]})}const je="https://gmunwpptyhwiiffcbhcq.supabase.co",ye="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdtdW53cHB0eWh3aWlmZmNiaGNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MjUwNjcsImV4cCI6MjA4MDUwMTA2N30.TVUKItSroFvSIBn9FCULzVj2KmvQrm5M7BkBPLsqGKk",k=ue(je,ye),V=o.createContext({user:null,session:null,loading:!0,signInWithEmail:async()=>{},signOut:async()=>{}});function be({children:t}){const[s,i]=o.useState(null),[a,n]=o.useState(!0);o.useEffect(()=>{let l=!0;k.auth.getSession().then(({data:u})=>{l&&(i(u.session),n(!1))});const{data:c}=k.auth.onAuthStateChange((u,f)=>{i(f)});return()=>{l=!1,c?.subscription?.unsubscribe()}},[]);const r=o.useMemo(()=>({session:s,user:s?.user??null,loading:a,signInWithEmail:async l=>k.auth.signInWithOtp({email:l}),signInWithOAuth:async l=>k.auth.signInWithOAuth({provider:l,options:{redirectTo:window.location.origin}}),signOut:async()=>k.auth.signOut()}),[s,a]);return e.jsx(V.Provider,{value:r,children:t})}function H(){return o.useContext(V)}const we=({isOpen:t,onClose:s})=>{const[i,a]=o.useState(""),[n,r]=o.useState(!1),[l,c]=o.useState(null),{signInWithEmail:u,signInWithOAuth:f}=H();if(o.useEffect(()=>(t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll")}),[t]),!t)return null;const d=async m=>{m.preventDefault(),r(!0),c(null);try{const{error:h}=await u(i);h?c({type:"error",text:"Erreur lors de l'envoi du lien : "+h.message}):(c({type:"success",text:"Lien de connexion envoyé ! Vérifiez vos emails."}),setTimeout(()=>{s(),c(null),a("")},3e3))}catch{c({type:"error",text:"Une erreur est survenue."})}finally{r(!1)}},p=async m=>{try{const{error:h}=await f(m);if(h)throw h}catch(h){c({type:"error",text:`Erreur de connexion ${m}: `+h.message})}};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:s,children:"×"}),e.jsx("h2",{children:"Connexion / Inscription"}),e.jsx("p",{children:"Entrez votre email pour vous connecter ou créer un compte."}),e.jsxs("form",{onSubmit:d,children:[e.jsx("input",{type:"email",placeholder:"votre@email.com",value:i,onChange:m=>a(m.target.value),required:!0,className:"modal-input"}),l&&e.jsx("div",{className:`modal-message ${l.type}`,children:l.text}),e.jsx("button",{type:"submit",className:"modal-submit-btn",disabled:n,children:n?"Envoi...":"Se connecter / S'inscrire"})]}),e.jsx("div",{className:"auth-divider",children:e.jsx("span",{children:"Ou continuer avec"})}),e.jsxs("div",{className:"social-buttons",children:[e.jsxs("button",{type:"button",className:"social-btn google",onClick:()=>p("google"),children:[e.jsx("svg",{className:"social-icon",viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[e.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),e.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),e.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),e.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Google"]}),e.jsxs("button",{type:"button",className:"social-btn facebook",onClick:()=>p("facebook"),children:[e.jsx("svg",{className:"social-icon",viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fill:"#1877F2",d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})})},O=({isActive:t})=>t?"nav-link nav-link--active":"nav-link";function Ce(){const[t,s]=o.useState(!1),[i,a]=o.useState(!0),[n,r]=o.useState(!1),[l,c]=o.useState(!1),[u,f]=o.useState(""),[d,p]=o.useState(!1),m=M,h=U();re();const{user:g,loading:b,signInWithEmail:Ye,signOut:K}=H();o.useEffect(()=>(n?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll")}),[n]),o.useEffect(()=>{let j=window.scrollY,x=0;const $=15,I=()=>{if(n){s(!1);return}const _=window.scrollY,T=_-j,ee=_<=15,te=_<=150;if(a(te),ee){s(!1),x=0,j=_;return}(T>0&&x<0||T<0&&x>0)&&(x=0),x+=T,x>$&&!t?(s(!0),x=0):x<-$&&t&&(s(!1),x=0),j=_};return window.addEventListener("scroll",I,{passive:!0}),I(),()=>window.removeEventListener("scroll",I)},[n,t]);const G=()=>{r(j=>{const x=!j;return x&&s(!1),x})},C=()=>r(!1),X=async()=>{if(!b){if(g){await K(),f("Déconnecté.");return}p(!0)}},Q=j=>{C(),h.pathname==="/"&&(j.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))},P=h.pathname.startsWith("/hub");h.pathname.startsWith("/tale/");const z=()=>e.jsxs(e.Fragment,{children:[e.jsx(S,{to:"/",end:!0,className:O,onClick:C,children:"Un Tale, c'est quoi ?"}),e.jsx(S,{to:"/hub",className:O,onClick:C,children:"Catalogue"}),e.jsx(S,{to:"/creer-tale",className:O,onClick:C,children:"Créer un Tale"})]});return e.jsxs("div",{className:`app-shell ${P?"app-shell--with-bottom-bar":""}`,children:[e.jsxs("header",{className:`app-header ${t?"app-header--hidden":""} ${i?"":"app-header--solid"} ${i||t?"app-header--transparent":""}`,children:[e.jsxs("button",{type:"button",className:`app-menu-btn ${n?"app-menu-btn--active":""}`,"aria-label":"Afficher les pages","aria-expanded":n,onClick:G,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsx(S,{to:"/",className:"app-logo","aria-label":"Retour à l'accueil",onClick:Q,children:e.jsx("img",{src:m,alt:"",loading:"lazy"})}),e.jsx("nav",{className:"app-nav app-nav--desktop",children:e.jsx(z,{})}),e.jsx("button",{type:"button",className:"app-login-btn",onClick:()=>{C(),X()},children:g?"Déconnexion":"Connexion"})]}),u&&e.jsxs("div",{style:{position:"fixed",top:"70px",right:"20px",background:"rgba(0,0,0,0.7)",color:"#fff",padding:"8px 12px",borderRadius:"8px",zIndex:2e3},children:[g&&e.jsx("strong",{children:g.email})," ",u]}),e.jsx("div",{className:`mobile-menu-overlay ${n?"mobile-menu-overlay--open":""}`,children:e.jsx("nav",{className:"mobile-menu-nav",children:e.jsx(z,{})})}),e.jsx("main",{className:`app-main ${P?"app-main--with-bottom":""}`,children:e.jsx(ae,{})}),e.jsx(ve,{}),e.jsx(we,{isOpen:d,onClose:()=>p(!1)})]})}function _e(){const{pathname:t}=U();return o.useLayoutEffect(()=>{document.documentElement.style.scrollBehavior="auto",window.scrollTo(0,0),setTimeout(()=>{document.documentElement.style.scrollBehavior=""},0)},[t]),null}function Le({onComplete:t}){const[s,i]=o.useState(!1);return o.useEffect(()=>{document.body.classList.add("no-scroll");const a=setTimeout(()=>{i(!0)},2e3),n=setTimeout(()=>{document.body.classList.remove("no-scroll"),t()},2500);return()=>{clearTimeout(a),clearTimeout(n),document.body.classList.remove("no-scroll")}},[t]),t?e.jsx("div",{className:`splash-screen ${s?"splash-screen--hidden":""}`,children:e.jsxs("div",{className:"splash-content",children:[e.jsx("img",{src:M,alt:"Sound Tales",className:"splash-logo"}),e.jsx("div",{className:"splash-loader",children:e.jsx("div",{className:"splash-bar"})})]})}):null}const ke=o.lazy(()=>w(()=>import("./Accueil-CS-XJv7p.js"),__vite__mapDeps([0,1,2]),import.meta.url)),Se=o.lazy(()=>w(()=>import("./Hub-vcXUfrIx.js"),__vite__mapDeps([3,1,2]),import.meta.url)),Ee=o.lazy(()=>w(()=>import("./TaleLanding-DD333zlr.js"),__vite__mapDeps([4,1,2]),import.meta.url)),Ne=o.lazy(()=>w(()=>import("./Liseuse-GzwETEqc.js"),__vite__mapDeps([5,1,2]),import.meta.url)),Ie=o.lazy(()=>w(()=>import("./CreerTale-3pFC7CVo.js"),__vite__mapDeps([6,1,2]),import.meta.url)),A=o.lazy(()=>w(()=>import("./Legal-Df2UoVip.js"),__vite__mapDeps([7,1,2]),import.meta.url));function Te(){const[t,s]=o.useState(()=>!sessionStorage.getItem("hasSeenSplash"));o.useEffect(()=>{document.documentElement.classList.add("app-ready")},[]);const i=()=>{s(!1),sessionStorage.setItem("hasSeenSplash","true")};return e.jsxs(e.Fragment,{children:[t&&e.jsx(Le,{onComplete:i}),e.jsx(_e,{}),e.jsx(o.Suspense,{fallback:e.jsx("div",{style:{height:"100vh",backgroundColor:"#1f2023"}}),children:e.jsxs(ie,{children:[e.jsxs(v,{element:e.jsx(Ce,{}),children:[e.jsx(v,{path:"/",element:e.jsx(ke,{})}),e.jsx(v,{path:"/hub",element:e.jsx(Se,{})}),e.jsx(v,{path:"/creer-tale",element:e.jsx(Ie,{})}),e.jsx(v,{path:"/tale/:taleId",element:e.jsx(Ee,{})}),e.jsx(v,{path:"/mentions-legales",element:e.jsx(A,{type:"mentions-legales"})}),e.jsx(v,{path:"/confidentialite",element:e.jsx(A,{type:"confidentialite"})}),e.jsx(v,{path:"/cgu",element:e.jsx(A,{type:"cgu"})})]}),e.jsx(v,{path:"/lecture/:taleId/:chapterId",element:e.jsx(Ne,{})})]})})]})}const J=o.createContext(null),Re=({children:t})=>{const[s,i]=o.useState([]),a=o.useCallback((u,f="info")=>{const d=Date.now().toString()+Math.random().toString(36).substr(2,9);i(p=>[...p,{id:d,message:u,type:f}]),setTimeout(()=>{n(d)},5e3)},[]),n=o.useCallback(u=>{i(f=>f.filter(d=>d.id!==u))},[]),r=o.useCallback(u=>a(u,"success"),[a]),l=o.useCallback(u=>a(u,"error"),[a]),c=o.useCallback(u=>a(u,"info"),[a]);return e.jsx(J.Provider,{value:{toasts:s,addToast:a,removeToast:n,success:r,error:l,info:c},children:t})},Z=()=>{const t=o.useContext(J);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};const Oe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ae=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,i,a)=>a?a.toUpperCase():i.toLowerCase()),q=t=>{const s=Ae(t);return s.charAt(0).toUpperCase()+s.slice(1)},Y=(...t)=>t.filter((s,i,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===i).join(" ").trim(),Me=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var Pe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ze=o.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:n="",children:r,iconNode:l,...c},u)=>o.createElement("svg",{ref:u,...Pe,width:s,height:s,stroke:t,strokeWidth:a?Number(i)*24/Number(s):i,className:Y("lucide",n),...!r&&!Me(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,d])=>o.createElement(f,d)),...Array.isArray(r)?r:[r]]));const N=(t,s)=>{const i=o.forwardRef(({className:a,...n},r)=>o.createElement(ze,{ref:r,iconNode:s,className:Y(`lucide-${Oe(q(t))}`,`lucide-${t}`,a),...n}));return i.displayName=q(t),i};const $e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],De=N("check",$e);const Fe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Be=N("circle-alert",Fe);const We=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qe=N("info",We);const Ue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ve=N("x",Ue),He=({toast:t})=>{const{removeToast:s}=Z(),{id:i,message:a,type:n}=t;let r,l,c;switch(n){case"success":r=e.jsx(De,{size:20}),l="rgba(34, 197, 94, 0.5)",c="#86efac";break;case"error":r=e.jsx(Be,{size:20}),l="rgba(239, 68, 68, 0.5)",c="#fca5a5";break;default:r=e.jsx(qe,{size:20}),l="rgba(59, 130, 246, 0.5)",c="#93c5fd"}return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#1f2023",border:`1px solid ${l}`,borderRadius:"8px",color:c,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)",minWidth:"300px",maxWidth:"400px",animation:"slideIn 0.3s ease-out",marginBottom:"10px",pointerEvents:"auto"},children:[e.jsx("div",{style:{flexShrink:0},children:r}),e.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:"1.4",flex:1},children:a}),e.jsx("button",{onClick:()=>s(i),style:{background:"transparent",border:"none",color:"inherit",cursor:"pointer",padding:"4px",display:"flex",opacity:.7},children:e.jsx(Ve,{size:16})})]})};function Je(){const{toasts:t}=Z();return t.length===0?null:e.jsx("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"flex-end",pointerEvents:"none"},children:t.map(s=>e.jsx(He,{toast:s},s.id))})}const Ze=document.getElementById("root");fe.createRoot(Ze).render(e.jsx(le.StrictMode,{children:e.jsx(Re,{children:e.jsx(be,{children:e.jsxs(ce,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsx(Te,{}),e.jsx(Je,{})]})})})}));export{De as C,qe as I,w as _,Be as a,N as c,e as j,k as s,H as u};
